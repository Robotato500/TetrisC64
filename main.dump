000   ----              PRA = $dc00         ;registros de la cia 1
001   ----              DDRA = $dc02
002   ----              
003   ----              PRB = $dc01
004   ----              DDRB = $dc03
005   ----              
006   ----              
007   ----              Music_Init = $49d0
008   ----              Music_Play = $30b0
009   ----              
010   ----              RNG_Seed = $30
011   ----              RNG_EOR = $31
012   ----              
013   ----              Game_Status = $40
014   ----              
015   ----              Current_Piece_Type = $50
016   ----              Next_Piece_Type = $51
017   ----              Current_Piece_Rot = $52
018   ----              
019   ----              Pivot_X = $52
020   ----              Pivot_Y = $56
021   ----              
022   ----              
023  $0801              * = $0801
024  $0801              
025  $0801  0C 08 0A 00 9E 33 32 37 36 38 00 00 00  !basic Main
026  $080D              
027  $2000              * = $2000
028  $2000              
029  $2000              CHARS
030  $2000  00 10 28 44 54 44 28 10  !byte  $00,$10,$28,$44,$54,$44,$28,$10
031  $2008  00 0C 14 24 04 04 04 04  !byte  $00,$0c,$14,$24,$04,$04,$04,$04
032  $2010  00 30 08 04 08 10 20 7C  !byte  $00,$30,$08,$04,$08,$10,$20,$7c
033  $2018  00 78 04 08 30 08 04 78  !byte  $00,$78,$04,$08,$30,$08,$04,$78
034  $2020  00 08 18 28 48 48 7C 08  !byte  $00,$08,$18,$28,$48,$48,$7c,$08
035  $2028  00 3C 40 70 08 04 08 70  !byte  $00,$3c,$40,$70,$08,$04,$08,$70
036  $2030  00 18 20 40 78 44 44 38  !byte  $00,$18,$20,$40,$78,$44,$44,$38
037  $2038  00 7C 04 08 10 20 40 00  !byte  $00,$7c,$04,$08,$10,$20,$40,$00
038  $2040  00 38 44 28 10 28 44 38  !byte  $00,$38,$44,$28,$10,$28,$44,$38
039  $2048  00 1C 22 22 1E 02 04 18  !byte  $00,$1c,$22,$22,$1e,$02,$04,$18
040  $2050  00 18 18 00 00 18 18 00  !byte  $00,$18,$18,$00,$00,$18,$18,$00
041  $2058  00 18 24 24 42 7E 42 42  !byte  $00,$18,$24,$24,$42,$7e,$42,$42
042  $2060  00 78 44 48 70 48 44 78  !byte  $00,$78,$44,$48,$70,$48,$44,$78
043  $2068  00 0C 10 20 40 20 10 0C  !byte  $00,$0c,$10,$20,$40,$20,$10,$0c
044  $2070  00 60 50 48 44 48 50 60  !byte  $00,$60,$50,$48,$44,$48,$50,$60
045  $2078  00 0C 30 40 7C 40 30 0C  !byte  $00,$0c,$30,$40,$7c,$40,$30,$0c
046  $2080  00 0C 38 60 40 70 40 40  !byte  $00,$0c,$38,$60,$40,$70,$40,$40
047  $2088  00 0C 10 20 4C 24 14 0C  !byte  $00,$0c,$10,$20,$4c,$24,$14,$0c
048  $2090  00 44 44 44 7C 44 44 44  !byte  $00,$44,$44,$44,$7c,$44,$44,$44
049  $2098  00 38 10 10 10 10 10 38  !byte  $00,$38,$10,$10,$10,$10,$10,$38
050  $20A0  00 04 04 04 04 24 14 0C  !byte  $00,$04,$04,$04,$04,$24,$14,$0c
051  $20A8  00 44 48 50 60 50 48 44  !byte  $00,$44,$48,$50,$60,$50,$48,$44
052  $20B0  00 20 20 20 20 24 28 30  !byte  $00,$20,$20,$20,$20,$24,$28,$30
053  $20B8  00 44 6C 54 44 44 44 44  !byte  $00,$44,$6c,$54,$44,$44,$44,$44
054  $20C0  00 44 44 64 54 4C 44 44  !byte  $00,$44,$44,$64,$54,$4c,$44,$44
055  $20C8  00 10 28 44 44 44 28 10  !byte  $00,$10,$28,$44,$44,$44,$28,$10
056  $20D0  00 70 48 44 48 70 40 40  !byte  $00,$70,$48,$44,$48,$70,$40,$40
057  $20D8  00 10 28 44 44 44 28 1C  !byte  $00,$10,$28,$44,$44,$44,$28,$1c
058  $20E0  00 70 48 44 48 70 48 44  !byte  $00,$70,$48,$44,$48,$70,$48,$44
059  $20E8  00 0C 30 40 38 04 18 60  !byte  $00,$0c,$30,$40,$38,$04,$18,$60
060  $20F0  00 7C 10 10 10 10 10 10  !byte  $00,$7c,$10,$10,$10,$10,$10,$10
061  $20F8  00 44 44 44 44 44 44 38  !byte  $00,$44,$44,$44,$44,$44,$44,$38
062  $2100  00 44 44 44 44 28 28 10  !byte  $00,$44,$44,$44,$44,$28,$28,$10
063  $2108  00 44 44 44 44 54 6C 44  !byte  $00,$44,$44,$44,$44,$54,$6c,$44
064  $2110  00 44 44 28 10 28 44 44  !byte  $00,$44,$44,$28,$10,$28,$44,$44
065  $2118  00 44 44 28 28 10 10 10  !byte  $00,$44,$44,$28,$28,$10,$10,$10
066  $2120  00 7C 04 08 10 20 40 7C  !byte  $00,$7c,$04,$08,$10,$20,$40,$7c
067  $2128  FF FF FF FF FF FF FF FF  !byte  $ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff
068  $2130  FF 81 BD A5 A5 BD 81 FF  !byte  $ff,$81,$bd,$a5,$a5,$bd,$81,$ff
069  $2138  00 00 00 00 00 00 00 00  !byte  $00,$00,$00,$00,$00,$00,$00,$00
070  $2140  FF C3 81 81 81 81 C3 FF  !byte  $ff,$c3,$81,$81,$81,$81,$c3,$ff
071  $2148  00 FF 81 E7 24 E7 00 FF  !byte  $00,$ff,$81,$e7,$24,$e7,$00,$ff
072  $2150  5A 5A 5A 5A 5A 5A 5A 5A  !byte  $5a,$5a,$5a,$5a,$5a,$5a,$5a,$5a
073  $2158  81 BD BD 99 DB 5A 42 7E  !byte  $81,$bd,$bd,$99,$db,$5a,$42,$7e
074  $2160  FF 00 00 00 FF 00 00 00  !byte  $ff,$00,$00,$00,$ff,$00,$00,$00
075  $2168  C3 3C 24 24 24 24 24 FF  !byte  $c3,$3c,$24,$24,$24,$24,$24,$ff
076  $2170  C3 3D 21 21 21 21 21 FF  !byte  $c3,$3d,$21,$21,$21,$21,$21,$ff
077  $2178  C3 BC 84 84 84 84 84 FF  !byte  $c3,$bc,$84,$84,$84,$84,$84,$ff
078  $2180  00 00 00 00 00 00 0F F0  !byte  $00,$00,$00,$00,$00,$00,$0f,$f0
079  $2188  00 00 00 00 0F F0 00 00  !byte  $00,$00,$00,$00,$0f,$f0,$00,$00
080  $2190  00 00 0F F0 00 00 00 00  !byte  $00,$00,$0f,$f0,$00,$00,$00,$00
081  $2198  0F F0 00 00 00 00 00 00  !byte  $0f,$f0,$00,$00,$00,$00,$00,$00
082  $21A0  00 00 00 00 00 00 00 00  !byte  $00,$00,$00,$00,$00,$00,$00,$00
083  $21A8  F0 0F 00 00 00 00 00 00  !byte  $f0,$0f,$00,$00,$00,$00,$00,$00
084  $21B0  00 00 F0 0F 00 00 00 00  !byte  $00,$00,$f0,$0f,$00,$00,$00,$00
085  $21B8  00 00 00 00 F0 0F 00 00  !byte  $00,$00,$00,$00,$f0,$0f,$00,$00
086  $21C0  00 00 00 00 00 00 F0 0F  !byte  $00,$00,$00,$00,$00,$00,$f0,$0f
087  $21C8  00 00 00 00 00 00 00 00  !byte  $00,$00,$00,$00,$00,$00,$00,$00
088  $21D0  F0 0F 00 00 00 00 00 00  !byte  $f0,$0f,$00,$00,$00,$00,$00,$00
089  $21D8  00 00 F0 0F 00 00 00 FF  !byte  $00,$00,$f0,$0f,$00,$00,$00,$ff
090  $21E0  00 00 00 00 00 00 0F FF  !byte  $00,$00,$00,$00,$00,$00,$0f,$ff
091  $21E8  00 00 00 00 00 00 F0 FF  !byte  $00,$00,$00,$00,$00,$00,$f0,$ff
092  $21F0  0F 08 08 08 FF 80 80 80  !byte  $0f,$08,$08,$08,$ff,$80,$80,$80
093  $21F8  F0 10 10 10 FF 01 01 01  !byte  $f0,$10,$10,$10,$ff,$01,$01,$01
094  $2200              
095  $7000              * = $7000
096  $7000              Screen_Color
097  $7000              ;screen color data
098  $7000  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
099  $7028  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
100  $7050  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
101  $7078  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
102  $70A0  0F 01 01 01 01 01 01 01 01 01 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 01 01 01 01 01 01 0F 0F  !byte  $0f,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$01,$01,$01,$01,$01,$01,$0f,$0f
103  $70C8  0F 01 01 01 01 01 01 01 0F 01 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 01 01 01 01 01 01 0F 0F  !byte  $0f,$01,$01,$01,$01,$01,$01,$01,$0f,$01,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$01,$01,$01,$01,$01,$01,$0f,$0f
104  $70F0  0F 01 01 01 01 01 01 01 01 01 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 01 01 01 01 01 01 0F 0F  !byte  $0f,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$01,$01,$01,$01,$01,$01,$0f,$0f
105  $7118  0F 01 01 01 01 01 01 01 01 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 01 01 01 01 01 01 0F 0F  !byte  $0f,$01,$01,$01,$01,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$01,$01,$01,$01,$01,$01,$0f,$0f
106  $7140  0F 01 01 01 01 01 01 01 01 01 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
107  $7168  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
108  $7190  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
109  $71B8  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
110  $71E0  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
111  $7208  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 01 01 01 01 01 01 01 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f
112  $7230  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 01 01 01 01 01 01 01 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f
113  $7258  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 01 01 01 01 01 01 01 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f
114  $7280  0F 0F 01 01 01 01 01 01 01 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 01 01 01 01 01 01 01 0F 0F  !byte  $0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f
115  $72A8  0F 0F 01 01 01 01 01 01 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 01 01 01 01 01 01 01 0F 0F  !byte  $0f,$0f,$01,$01,$01,$01,$01,$01,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f
116  $72D0  0F 0F 01 01 01 01 01 01 01 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 01 01 01 01 01 01 01 0F 0F  !byte  $0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f
117  $72F8  0F 0F 01 01 01 01 01 0F 01 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 01 01 01 01 01 01 01 0F 0F  !byte  $0f,$0f,$01,$01,$01,$01,$01,$0f,$01,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f
118  $7320  0F 0F 01 01 01 01 01 01 01 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 01 01 01 01 01 01 01 0F 0F  !byte  $0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$0f,$0f
119  $7348  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
120  $7370  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 00 00 00 00 00 00 00 00 00 00 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
121  $7398  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
122  $73C0  0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 01 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F 0F  !byte  $0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f,$0f
123  $73E8              
124  $7400              * = $7400
125  $7400              
126  $7400  29 29 29 29 29 29 29 29 29 29 29 27 27 27 27 27 27 27 30 31 37 38 27 27 27 27 27 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$27,$27,$27,$27,$30,$31,$37,$38,$27,$27,$27,$27,$27,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
127  $7428  29 29 29 29 29 29 29 29 29 29 29 27 27 27 30 31 32 33 27 27 27 27 35 36 37 38 27 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$30,$31,$32,$33,$27,$27,$27,$27,$35,$36,$37,$38,$27,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
128  $7450  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2F 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2E 27 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2f,$2d,$2d,$2d,$2d,$2d,$2d,$2d,$2d,$2d,$2d,$2e,$27,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
129  $7478  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2B 25 25 25 25 25 25 25 25 25 25 2B 27 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2b,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2b,$27,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
130  $74A0  29 27 27 27 27 27 27 27 27 27 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 27 27 27 27 27 29 29  !byte  $29,$27,$27,$27,$27,$27,$27,$27,$27,$27,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29
131  $74C8  29 27 27 1D 0D 19 1C 0F 27 27 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 16 0F 20 0F 16 27 29 29  !byte  $29,$27,$27,$1d,$0d,$19,$1c,$0f,$27,$27,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$16,$0f,$20,$0f,$16,$27,$29,$29
132  $74F0  29 27 27 27 27 27 27 27 27 27 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 27 27 27 27 27 29 29  !byte  $29,$27,$27,$27,$27,$27,$27,$27,$27,$27,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29
133  $7518  29 27 00 00 00 00 00 00 00 27 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 00 00 00 27 27 29 29  !byte  $29,$27,$00,$00,$00,$00,$00,$00,$00,$27,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$00,$00,$00,$27,$27,$29,$29
134  $7540  29 27 27 27 27 27 27 27 27 27 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 27 27 27 27 27 29 29  !byte  $29,$27,$27,$27,$27,$27,$27,$27,$27,$27,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29
135  $7568  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
136  $7590  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
137  $75B8  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
138  $75E0  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
139  $7608  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 27 27 27 27 27 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29
140  $7630  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 18 0F 22 1E 27 27 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$18,$0f,$22,$1e,$27,$27,$29,$29
141  $7658  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 27 27 27 27 27 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29
142  $7680  29 29 27 27 27 27 27 27 27 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 27 27 27 27 27 29 29  !byte  $29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29
143  $76A8  29 29 27 16 13 18 0F 1D 27 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 27 27 27 27 27 29 29  !byte  $29,$29,$27,$16,$13,$18,$0f,$1d,$27,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29
144  $76D0  29 29 27 27 27 27 27 27 27 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 27 27 27 27 27 29 29  !byte  $29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29
145  $76F8  29 29 27 27 00 00 00 27 27 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 27 27 27 27 27 29 29  !byte  $29,$29,$27,$27,$00,$00,$00,$27,$27,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29
146  $7720  29 29 27 27 27 27 27 27 27 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 27 27 27 27 27 27 27 29 29  !byte  $29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$27,$27,$27,$27,$27,$27,$27,$29,$29
147  $7748  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
148  $7770  29 29 29 29 29 29 29 29 29 29 29 27 27 27 2A 25 25 25 25 25 25 25 25 25 25 2A 27 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$27,$2a,$25,$25,$25,$25,$25,$25,$25,$25,$25,$25,$2a,$27,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
149  $7798  29 29 29 29 29 29 29 29 29 29 29 27 27 3E 2C 2C 2C 2C 2C 2C 2C 2C 2C 2C 2C 2C 3F 27 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$27,$3e,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$3f,$27,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
150  $77C0  29 29 29 29 29 29 29 29 29 29 29 27 3E 2C 2C 2C 2C 2C 2C 2C 2C 2C 2C 2C 2C 2C 2C 3F 27 29 29 29 29 29 29 29 29 29 29 29  !byte  $29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$27,$3e,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$2c,$3f,$27,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29,$29
151  $77E8              
152  $77E8              
153  $8000              * = $8000
154  $8000              
155  $8000              Main
156  $8000  20 16 80    jsr Irq_Init
157  $8003  20 43 80    jsr Screen_Init
158  $8006  A9 01       lda #$01
159  $8008  20 0B 80    jsr Game_Loop
160  $800B              
161  $800B              Game_Loop
162  $800B  A5 40       lda Game_Status
163  $800D  C9 01       cmp #$01
164  $800F              ;beq Loop_Jump1
165  $800F              ;cmp
166  $800F              
167  $800F              
168  $800F              Sid_Init
169  $800F  A9 00       lda #$00
170  $8011  AA          tax
171  $8012  A8          tay
172  $8013  20 D0 49    jsr Music_Init
173  $8016              
174  $8016              Irq_Init
175  $8016  78          sei             ;desactiva los interrupts
176  $8017  A0 7F       ldy #$7f        ; $7f = %01111111
177  $8019  8C 0D DC    sty $dc0d       ; Turn off CIAs Timer interrupts
178  $801C  8C 0D DD    sty $dd0d       ; Turn off CIAs Timer interrupts
179  $801F  AD 0D DC    lda $dc0d       ; cancel all CIA-IRQs in queue/unprocessed
180  $8022  AD 0D DD    lda $dd0d       ; cancel all CIA-IRQs in queue/unprocessed
181  $8025              
182  $8025  A9 01       lda #%00000001  ;queremos interrupts por el raster
183  $8027  8D 1A D0    sta $d01a
184  $802A              
185  $802A  A9 88       lda #<Irq_Routine ;ahora la rutina de los interrupts es la que yo me he inventado, guardando
186  $802C  A2 80       ldx #>Irq_Routine ;su direccion en el vector
187  $802E  8D 14 03    sta $0314
188  $8031  8E 15 03    stx $0315
189  $8034              
190  $8034  A9 00       lda #$00        ;que el interrupt ocurra en la primera línea del raster
191  $8036  8D 12 D0    sta $d012
192  $8039  AD 11 D0    lda $d011
193  $803C  29 7F       and #$7f        ;teniendo en cuenta que el bit 0 de esta hace del bit 9 en el numero de linea de raster
194  $803E  8D 11 D0    sta $d011
195  $8041              
196  $8041  58          cli             ;y ya hemos terminado de configurar los interrupts por lo que podemos volver
197  $8042              ;a activar los interrupt
198  $8042  60          rts
199  $8043              
200  $8043              
201  $8043              
202  $8043              Screen_Init
203  $8043  A9 00       lda #$00        ;hace negro el borde y gris oscuro el fondo 1
204  $8045  8D 20 D0    sta $d020
205  $8048  A9 0B       lda #$0b
206  $804A  8D 21 D0    sta $d021
207  $804D              
208  $804D              
209  $804D  A9 18       lda #%00011000  ;establezco la character memory al $2000 y la screen a $0400
210  $804F  8D 18 D0    sta $d018
211  $8052              
212  $8052              
213  $8052  A2 00       ldx #$00
214  $8054              Clr_Scrn            ;los colores de la pantalla
215  $8054  BD 00 70    lda $7000,x
216  $8057  9D 00 D8    sta $d800,x
217  $805A  BD 00 71    lda $7100,x
218  $805D  9D 00 D9    sta $d900,x
219  $8060  BD 00 72    lda $7200,x
220  $8063  9D 00 DA    sta $da00,x
221  $8066  BD E8 72    lda $72e8,x
222  $8069  9D E8 DA    sta $dae8,x
223  $806C              
224  $806C  BD 00 74    lda $7400,x
225  $806F  9D 00 04    sta $0400,x
226  $8072  BD 00 75    lda $7500,x
227  $8075  9D 00 05    sta $0500,x
228  $8078  BD 00 76    lda $7600,x
229  $807B  9D 00 06    sta $0600,x
230  $807E  BD E8 76    lda $76e8,x
231  $8081  9D E8 06    sta $06e8,x
232  $8084              
233  $8084  CA          dex
234  $8085  D0 CD       bne Clr_Scrn
235  $8087              
236  $8087  60          rts
237  $8088              
238  $8088              
239  $8088              Irq_Routine
240  $8088  CE 19 D0    dec $d019     ;vale me he enterado del interrupt puedes relajarte
241  $808B              ;jsr Music_Play
242  $808B  4C 81 EA    jmp $ea81
243  $808E              
244  $808E              
245  $808E              Ref_Piece
246  $808E  A5 50       lda Current_Piece_Type
247  $8090  0A          asl
248  $8091  0A          asl
249  $8092  0A          asl
250  $8093  0A          asl
251  $8094  0A          asl
252  $8095  18          clc
253  $8096  65 52       adc Current_Piece_Rot       ;la rotacion va a tener que estar multiplicada por 2
254  $8098  18          clc
255  $8099  69 07       adc #$07
256  $809B  AA          tax
257  $809C  A0 03       ldy #$03
258  $809E              Ref_Piece_Loop
259  $809E  BD B5 80    lda Piece_Table_0,x
260  $80A1  18          clc
261  $80A2  65 56       adc Pivot_Y
262  $80A4  99 56 00    sta Pivot_Y,y
263  $80A7  CA          dex
264  $80A8  BD B5 80    lda Piece_Table_0,x
265  $80AB  18          clc
266  $80AC  65 52       adc Pivot_X
267  $80AE  99 52 00    sta Pivot_X,y
268  $80B1  CA          dex
269  $80B2  88          dey
270  $80B3  D0 E9       bne Ref_Piece_Loop
271  $80B5              
272  $80B5              
273  $80B5              Piece_Table_0 ;tipo 0: cuadrado
274  $80B5  00 00 00 FF FF 00 FF FF  !byte $00, $00, $00, $ff, $FF, $00, $FF, $FF
275  $80BD  00 00 00 FF FF 00 FF FF  !byte $00, $00, $00, $ff, $FF, $00, $FF, $FF
276  $80C5  00 00 00 FF FF 00 FF FF  !byte $00, $00, $00, $ff, $FF, $00, $FF, $FF
277  $80CD  00 00 00 FF FF 00 FF FF  !byte $00, $00, $00, $ff, $FF, $00, $FF, $FF
278  $80D5              Piece_Table_1 ;tipo 1: larga
279  $80D5  00 00 01 00 FF 00 FE 00  !byte $00, $00, $01, $00, $ff, $00, $fe, $00
280  $80DD  00 00 00 FF 00 01 00 02  !byte $00, $00, $00, $ff, $00, $01, $00, $02
281  $80E5  00 00 01 00 FF 00 FE 00  !byte $00, $00, $01, $00, $ff, $00, $fe, $00
282  $80ED  00 00 00 FF 00 01 00 02  !byte $00, $00, $00, $ff, $00, $01, $00, $02
283  $80F5              Piece_Table_2 ;tipo 2: t
284  $80F5  00 00 01 00 FF 00 00 FF  !byte $00, $00, $01, $00, $ff, $00, $00, $ff
285  $80FD  00 00 00 FF FF 00 00 01  !byte $00, $00, $00, $ff, $ff, $00, $00, $01
286  $8105  00 00 FF 00 01 00 00 01  !byte $00, $00, $ff, $00, $01, $00, $00, $01
287  $810D  00 00 00 FF 01 00 00 01  !byte $00, $00, $00, $ff, $01, $00, $00, $01
288  $8115              Piece_Table_3 ;tipo 3: z
289  $8115  00 00 00 FF FF 00 01 FF  !byte $00, $00, $00, $ff, $ff, $00, $01, $ff
290  $811D  00 00 00 FF 01 00 01 01  !byte $00, $00, $00, $ff, $01, $00, $01, $01
291  $8125  00 00 00 FF FF 00 01 FF  !byte $00, $00, $00, $ff, $ff, $00, $01, $ff
292  $812D  00 00 00 FF 01 00 01 01  !byte $00, $00, $00, $ff, $01, $00, $01, $01
293  $8135              Piece_Table_4 ;tipo 4: s
294  $8135  00 00 01 00 00 FF FF FF  !byte $00, $00, $01, $00, $00, $ff, $ff, $ff
295  $813D  00 00 00 01 01 00 01 FF  !byte $00, $00, $00, $01, $01, $00, $01, $ff
296  $8145  00 00 01 00 00 FF FF FF  !byte $00, $00, $01, $00, $00, $ff, $ff, $ff
297  $814D  00 00 00 01 01 00 01 FF  !byte $00, $00, $00, $01, $01, $00, $01, $ff
